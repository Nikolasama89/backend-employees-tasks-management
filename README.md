# Employee Management â€“ Backend (Spring Boot)

ÎˆÎ½Î± RESTful backend Î³Î¹Î± Î´Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· ÎµÏÎ³Î±Î¶Î¿Î¼Î­Î½Ï‰Î½ (employees) Î¼Îµ Spring Boot, MySQL ÎºÎ±Î¹ JWT authentication Ï‰Ï‚ **final project Î³Î¹Î± Ï„Î¿ Coding Factory Î±Ï€ÏŒ Ï„Î¿ ÎŸÎ¹ÎºÎ¿Î½Î¿Î¼Î¹ÎºÏŒ Î Î±Î½ÎµÏ€Î¹ÏƒÏ„Î®Î¼Î¹Î¿ Î‘Î¸Î·Î½ÏÎ½**.

**Î£ÎºÎ¿Ï€ÏŒÏ‚** Ï„Î¿Ï… project ÎµÎ¯Î½Î±Î¹ Î· **Î±Î½Î¬Î¸ÎµÏƒÎ· tasks ÏƒÎµ ÎºÎ¬Î¸Îµ employee** (task assignment & tracking). Î£Ï„Î·Î½ **Ï€ÏÏÏ„Î· Ï†Î¬ÏƒÎ· (MVP)** ÎµÏƒÏ„Î¹Î¬Î¶ÎµÎ¹ ÏƒÎµ Î²Î±ÏƒÎ¹ÎºÎ® Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¹ÎºÏŒÏ„Î·Ï„Î± Î´Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ·Ï‚ (CRUD) ÎºÎ±Î¹ authenticationÂ· Î· Î±Î½Î¬Î¸ÎµÏƒÎ·/Î´Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· tasks Î¸Î± Ï€ÏÎ¿ÏƒÏ„ÎµÎ¸ÎµÎ¯ ÏƒÎµ ÎµÏ€ÏŒÎ¼ÎµÎ½Î¿ milestone.

## ğŸ”§ Î¤ÎµÏ‡Î½Î¿Î»Î¿Î³Î¯ÎµÏ‚

* **Java 17**

* **Maven**

* **Spring Boot** (Web, Data JPA, Security)

* **Hibernate**

* **MySQL** (Connector/J)

* **Lombok**

* **JWT Authentication**

* **Frontend:** Angular (ÏƒÎµ Î¾ÎµÏ‡Ï‰ÏÎ¹ÏƒÏ„ÏŒ repository â€” Î´ÎµÏ‚ Ï€Î±ÏÎ±ÎºÎ¬Ï„Ï‰)

## ğŸ¯ Î£ÎºÎ¿Ï€ÏŒÏ‚ & Î¤ÏÎ­Ï‡Î¿Î½ MVP

* **Î£ÎºÎ¿Ï€ÏŒÏ‚**: Î½Î± Î±Î½Î±Î¸Î­Ï„ÎµÎ¹ tasks ÏƒÎµ ÎºÎ¬Î¸Îµ employee ÎºÎ±Î¹ Î½Î± Ï€Î±ÏÎ±ÎºÎ¿Î»Î¿Ï…Î¸ÎµÎ¯ Ï„Î·Î½ ÎºÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ® Ï„Î¿Ï…Ï‚.
* **Î¤ÏÎ­Ï‡Î¿Î½ MVP**: Î²Î±ÏƒÎ¹ÎºÎ® Î´Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· ÎµÏÎ³Î±Î¶Î¿Î¼Î­Î½Ï‰Î½ (CRUD), authentication/authorization Î¼Îµ JWT, MySQL persistence. Î— Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¹ÎºÏŒÏ„Î·Ï„Î± Î±Î½Î¬Î¸ÎµÏƒÎ·Ï‚/Î´Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ·Ï‚ tasks Î¸Î± Ï…Î»Î¿Ï€Î¿Î¹Î·Î¸ÎµÎ¯ ÏƒÎµ ÎµÏ€ÏŒÎ¼ÎµÎ½Î¿ milestone.

## ğŸ“¦ Î ÏÎ¿Î±Ï€Î±Î¹Ï„Î¿ÏÎ¼ÎµÎ½Î±

* Java 17 (JDK)
* Maven 3.9+ *(Î® Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¯Î·ÏƒÎµ Ï„Î¿ `mvnw`/`mvnw.cmd` Ï„Î¿Ï… project)*
* MySQL 8+
* (Î ÏÎ¿Î±Î¹ÏÎµÏ„Î¹ÎºÏŒ) IDE Î¼Îµ ÎµÎ½ÎµÏÎ³Î¿Ï€Î¿Î¹Î·Î¼Î­Î½Î¿ **Annotation Processing** Î³Î¹Î± Lombok

## âš™ï¸ Î Î±ÏÎ±Î¼ÎµÏ„ÏÎ¿Ï€Î¿Î¯Î·ÏƒÎ· Î ÎµÏÎ¹Î²Î¬Î»Î»Î¿Î½Ï„Î¿Ï‚

Î— ÎµÏ†Î±ÏÎ¼Î¿Î³Î® Î´Î¹Î±Î²Î¬Î¶ÎµÎ¹ ÏÏ…Î¸Î¼Î¯ÏƒÎµÎ¹Ï‚ Î±Ï€ÏŒ Î¼ÎµÏ„Î±Î²Î»Î·Ï„Î­Ï‚ Ï€ÎµÏÎ¹Î²Î¬Î»Î»Î¿Î½Ï„Î¿Ï‚ (ENV) Î¼Î­ÏƒÏ‰ Ï„Î¿Ï… `application.properties`.

### .env (Ï€ÏÎ¿Ï„ÎµÎ¹Î½ÏŒÎ¼ÎµÎ½Î¿)

Î”Î·Î¼Î¹Î¿ÏÏÎ³Î·ÏƒÎµ Î­Î½Î± Î±ÏÏ‡ÎµÎ¯Î¿ `.env` ÏƒÏ„Î· ÏÎ¯Î¶Î± Ï„Î¿Ï… project Î¼Îµ Ï„Î¹Î¼Î­Ï‚ ÏŒÏ€Ï‰Ï‚:

```env
MYSQL_HOST=localhost
MYSQL_PORT=3306
MYSQL_DB=employeesdb
MYSQL_USER=springuser
MYSQL_PASSWORD=12345

JWT_SECRET=change-me-please
# 24 ÏÏÎµÏ‚ ÏƒÎµ ms
JWT_EXPIRATION_MS=86400000

# Î•Î½ÎµÏÎ³ÏŒ Ï€ÏÎ¿Ï†Î¯Î» (Ï€.Ï‡. dev, test, prod)
SPRING_PROFILES_ACTIVE=test
```

> Î¦ÏÏŒÎ½Ï„Î¹ÏƒÎµ Ï„Î¿ `.env` Î½Î± ÎµÎ¯Î½Î±Î¹ ÏƒÏ„Î¿ `.gitignore`.

### Î Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î± `application.properties`


```properties
spring.application.name=employee-management

## DB CONNECTION ##
spring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:${MYSQL_PORT:3306}/${MYSQL_DB:employeesdb}?useUnicode=true&characterEncoding=utf-8&useSSL=true&serverTimezone=Europe/Athens
spring.datasource.username=${MYSQL_USER:springuser}
spring.datasource.password=${MYSQL_PASSWORD:12345}

spring.jpa.properties.hibernate.show_sql=true
# Î“Î¹Î± production Ï€ÏÎ¿Ï„Î¯Î¼Î·ÏƒÎµ validate Î® update:
# spring.jpa.hibernate.ddl-auto=update

# ÎœÏŒÎ½Î¿ Î³Î¹Î± Ï„Î¿Ï€Î¹ÎºÎ¬ tests â€” Î”Î—ÎœÎ™ÎŸÎ¥Î¡Î“Î•Î™/Î”Î™Î‘Î“Î¡Î‘Î¦Î•Î™ ÏƒÏ‡Î®Î¼Î± ÎºÎ¬Î¸Îµ ÎµÎºÏ„Î­Î»ÎµÏƒÎ·
spring.jpa.hibernate.ddl-auto=create-drop

# Î•ÎºÏ„Î­Î»ÎµÏƒÎ· SQL scripts Î±Ï†Î¿Ï ÎµÏ„Î¿Î¹Î¼Î±ÏƒÏ„ÎµÎ¯ Ï„Î¿ schema
spring.jpa.defer-datasource-initialization=true

# UNCOMMENT Ï„Î·Î½ 1Î· Ï†Î¿ÏÎ¬ Î³Î¹Î± seed ÎºÎ±Î¹ Î¼ÎµÏ„Î¬ ÎºÎ¬Î½â€™ Ï„Î¿ comment
spring.sql.init.mode=always
spring.sql.init.data-locations=classpath:sql/regions.sql
spring.sql.init.encoding=UTF-8
spring.sql.init.platform=mysql

# Î•Î½ÎµÏÎ³ÏŒ Ï€ÏÎ¿Ï†Î¯Î» (Î¬Î»Î»Î±Î¾Î­ Ï„Î¿ Î±Î½Î¬Î»Î¿Î³Î±):
spring.profiles.active=${SPRING_PROFILES_ACTIVE:test}

spring.datasource.driverClassName=com.mysql.cj.jdbc.Driver
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.properties.hibernate.globally_quoted_identifiers=true
spring.data.jpa.repositories.enabled=true

# JWT
jwt.secret=${JWT_SECRET}
jwt.expiration-ms=${JWT_EXPIRATION_MS}
```

### Î£Î·Î¼Î±Î½Ï„Î¹ÎºÎ­Ï‚ ÏƒÎ·Î¼ÎµÎ¹ÏÏƒÎµÎ¹Ï‚ ÏÏ…Î¸Î¼Î¯ÏƒÎµÏ‰Î½

* **`ddl-auto=create-drop`**: ÎºÏÎ¬Ï„Î·ÏƒÎ­ Ï„Î¿ Î¼ÏŒÎ½Î¿ Î³Î¹Î± Î³ÏÎ®Î³Î¿ÏÎ¿ Ï„Î¿Ï€Î¹ÎºÏŒ testing. Î“Î¹Î± development/production Î²Î¬Î»Îµ `update` Î® `validate`.
* **`spring.sql.init.mode=always`**: Î§ÏÎ®ÏƒÎ¹Î¼Î¿ Î³Î¹Î± Î±ÏÏ‡Î¹ÎºÏŒ seed (Ï€.Ï‡. `regions.sql`). ÎœÎµÏ„Î¬ Ï„Î·Î½ Ï€ÏÏÏ„Î· ÎµÏ€Î¹Ï„Ï…Ï‡Î® ÎµÎºÎºÎ¯Î½Î·ÏƒÎ·, ÎºÎ¬Î½â€™ Ï„Î¿ comment Î³Î¹Î± Î½Î± Î¼Î·Î½ Î¾Î±Î½Î±Ï„ÏÎ­Ï‡ÎµÎ¹ ÎºÎ¬Î¸Îµ Ï†Î¿ÏÎ¬.
* **Time zone**: H JDBC URL Î¿ÏÎ¯Î¶ÎµÎ¹ `serverTimezone=Europe/Athens`.

## ğŸ—„ï¸ Î ÏÎ¿ÎµÏ„Î¿Î¹Î¼Î±ÏƒÎ¯Î± MySQL

1. Î”Î·Î¼Î¹Î¿ÏÏÎ³Î·ÏƒÎµ Î²Î¬ÏƒÎ· Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½ ÎºÎ±Î¹ Ï‡ÏÎ®ÏƒÏ„Î· (Î±Î½ Î´ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½):

   ```sql
   CREATE DATABASE IF NOT EXISTS employeesdb CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
   CREATE USER IF NOT EXISTS 'springuser'@'%' IDENTIFIED BY '12345';
   GRANT ALL PRIVILEGES ON employeesdb.* TO 'springuser'@'%';
   FLUSH PRIVILEGES;
   ```
2. Î ÏÎ¿Î±Î¹ÏÎµÏ„Î¹ÎºÏŒ seed: Î²Î¬Î»Îµ Ï„Î¿ `regions.sql` ÏƒÏ„Î¿ `src/main/resources/sql/regions.sql` ÎºÎ±Î¹ Î¬Ï†Î·ÏƒÎµ Ï€ÏÎ¿ÏƒÏ‰ÏÎ¹Î½Î¬ `spring.sql.init.mode=always`.

## â–¶ï¸ Î•ÎºÏ„Î­Î»ÎµÏƒÎ· Ï„Î¿Ï€Î¹ÎºÎ¬ (Ï‡Ï‰ÏÎ¯Ï‚ Ï€Î±ÎºÎµÏ„Î¬ÏÎ¹ÏƒÎ¼Î±)

```bash
# Î¼Îµ Maven Wrapper (Ï€ÏÎ¿Ï„ÎµÎ¯Î½ÎµÏ„Î±Î¹)
./mvnw spring-boot:run
# Î®, Î±Î½ Î­Ï‡ÎµÎ¹Ï‚ Maven global
mvn spring-boot:run
```

* Î•Î½Î±Î»Î»Î±ÎºÏ„Î¹ÎºÎ¬ Î¼Ï€Î¿ÏÎµÎ¯Ï‚ Î½Î± Î¿ÏÎ¯ÏƒÎµÎ¹Ï‚ runtime Ï€ÏÎ¿Ï†Î¯Î»:

  ```bash
  SPRING_PROFILES_ACTIVE=test ./mvnw spring-boot:run
  ```

## ğŸ—ï¸ Build & Run Ï‰Ï‚ JAR

```bash
# ÎšÎ±Î¸Î¬ÏÎ¹ÏƒÎ¼Î± & build (Î¼Îµ tests)
./mvnw clean package
# Î® Ï‡Ï‰ÏÎ¯Ï‚ tests
./mvnw clean package -DskipTests

# Î•ÎºÏ„Î­Î»ÎµÏƒÎ·
java -jar target/employee-management-*.jar --spring.profiles.active=test
```

## ğŸ”Œ Local URLs
* Backend Base URL: http://localhost:8080/api
* Swagger UI:       http://localhost:8080/swagger-ui/index.html
* OpenAPI JSON:     http://localhost:8080/v3/api-docs


## ğŸ§ª Tests

* Î¥Ï€Î¬ÏÏ‡Î¿Ï…Î½ **unit tests ÏƒÏ„Î¿ `EmployeeService` Î¼Îµ JUnit** (JUnit 5).

Î¤ÏÎ­Î¾Îµ ÏŒÎ»Î± Ï„Î± tests:

```bash
./mvnw test
```

## ğŸ” JWT Authentication

### ğŸ‘¤ Î ÏÎ¿ÎµÏ€Î¹Î»ÎµÎ³Î¼Î­Î½Î¿Ï‚ Admin (Seed)

Î£Îµ **test** (Î® ÏŒÏ„Î±Î½ ÎµÎ¯Î½Î±Î¹ ÎµÎ½ÎµÏÎ³ÏŒ Ï„Î¿ seeding) Î´Î·Î¼Î¹Î¿Ï…ÏÎ³ÎµÎ¯Ï„Î±Î¹ Ï€ÏÎ¿ÎµÏ€Î¹Î»ÎµÎ³Î¼Î­Î½Î¿Ï‚ Î´Î¹Î±Ï‡ÎµÎ¹ÏÎ¹ÏƒÏ„Î®Ï‚:

* **Username:** `admin`
* **Password:** `Admin@123`

**Î£Ï…ÏƒÏ„Î¬ÏƒÎµÎ¹Ï‚**


* Î˜Î­ÏƒÎµ Ï„Î¹Ï‚ Î¼ÎµÏ„Î±Î²Î»Î·Ï„Î­Ï‚ `JWT_SECRET` ÎºÎ±Î¹ `JWT_EXPIRATION_MS`.
* Î¤Î¿ login endpoint (Ï€.Ï‡. `/auth/login`) ÎµÏ€Î¹ÏƒÏ„ÏÎ­Ï†ÎµÎ¹ JWT. Î§ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¯Î·ÏƒÎ­ Ï„Î¿ ÏƒÎµ ÎµÏ€ÏŒÎ¼ÎµÎ½Î± requests Î¼Îµ header `Authorization: Bearer <token>`.



## ğŸ“š API Docs (Swagger/OpenAPI)

* **Swagger UI**: Î´Î¹Î±Î¸Î­ÏƒÎ¹Î¼Î¿ ÏƒÏ„Î¿ `/swagger-ui/index.html` (ÏŒÏ„Î±Î½ ÎµÎ¯Î½Î±Î¹ ÎµÎ½ÎµÏÎ³ÏŒ).
* **OpenAPI JSON**: `/v3/api-docs`.
* ÎœÎµ **JWT**: ÏƒÏ„Î¿ Swagger UI Ï€Î¬Ï„Î± **Authorize** ÎºÎ±Î¹ Î²Î¬Î»Îµ `Bearer <token>` Î³Î¹Î± Î½Î± ÎºÎ±Î»Î­ÏƒÎµÎ¹Ï‚ secured endpoints.

![Swagger](docs/screenshots/swagger-employee.png)

## ğŸ–¥ï¸ Frontend (Angular)

Î¤Î¿ frontend Ï…Î»Î¿Ï€Î¿Î¹ÎµÎ¯Ï„Î±Î¹ ÏƒÎµ **Angular** ÎºÎ±Î¹ Î²ÏÎ¯ÏƒÎºÎµÏ„Î±Î¹ ÏƒÏ„Î¿ **https://github.com/Nikolasama89/cafe-employee-frontend**. ÎŸÎ¹ Ï€Î»Î®ÏÎµÎ¹Ï‚ Î¿Î´Î·Î³Î¯ÎµÏ‚ ÎµÎ³ÎºÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ·Ï‚/ÎµÎºÏ„Î­Î»ÎµÏƒÎ·Ï‚ (Node/Angular CLI versions, Ï€ÎµÏÎ¹Î²Î¬Î»Î»Î¿Î½Ï„Î±, build) Î²ÏÎ¯ÏƒÎºÎ¿Î½Ï„Î±Î¹ ÏƒÏ„Î¿ **README Ï„Î¿Ï… frontend**.

**Î£ÏÎ½Î´ÎµÏƒÎ· Î¼Îµ backend ÏƒÎµ Ï„Î¿Ï€Î¹ÎºÏŒ dev:**

1. Î¤ÏÎ­Î¾Îµ backend ÏƒÏ„Î¿ `http://localhost:8080`.
2. Î¤ÏÎ­Î¾Îµ frontend (Ï€.Ï‡. `npm install && ng serve --port 4200`).
3. **CORS**: Î•Î¯Î½Î±Î¹ Î®Î´Î· ÏÏ…Î¸Î¼Î¹ÏƒÎ¼Î­Î½Î± ÏƒÏ„Î¿ backend. Î‘Î½ Î±Î»Î»Î¬Î¾ÎµÎ¹Ï‚ port Î® domain ÏƒÏ„Î¿ frontend, ÎµÎ½Î·Î¼Î­ÏÏ‰ÏƒÎµ Ï„Î± **allowed origins** ÏƒÏ„Î·Î½ Î±Î½Ï„Î¯ÏƒÏ„Î¿Î¹Ï‡Î· config (Ï€.Ï‡. Security config/WebMvcConfigurer).
